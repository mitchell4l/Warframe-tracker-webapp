<!DOCTYPE html>

<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Warframe Interactive Checklist</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            min-height: 100vh;
            padding: 16px;
            color: #e2e8f0;
        }
        .header {
            text-align: center;
            margin-bottom: 24px;
            padding: 20px;
            background: rgba(30, 41, 59, 0.6);
            border-radius: 16px;
        }
        h1 { color: #22d3ee; font-size: 28px; margin-bottom: 8px; }
        .subtitle { color: #94a3b8; font-size: 14px; }
        .controls {
            display: flex;
            gap: 8px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        .search-box {
            flex: 1;
            min-width: 200px;
            padding: 12px 16px;
            background: #334155;
            border: 2px solid #475569;
            border-radius: 12px;
            color: #e2e8f0;
            font-size: 16px;
        }
        .search-box:focus { outline: none; border-color: #22d3ee; }
        .btn {
            padding: 12px 20px;
            background: linear-gradient(135deg, #06b6d4 0%, #0891b2 100%);
            color: white;
            border: none;
            border-radius: 12px;
            font-weight: 600;
            cursor: pointer;
            font-size: 14px;
        }
        .btn:active { transform: scale(0.95); }
        .btn-secondary { background: linear-gradient(135deg, #64748b 0%, #475569 100%); }
        .tabs {
            display: flex;
            gap: 8px;
            margin-bottom: 20px;
            overflow-x: auto;
            padding-bottom: 8px;
        }
        .tab {
            padding: 12px 20px;
            background: #334155;
            border: none;
            border-radius: 12px;
            color: #94a3b8;
            cursor: pointer;
            white-space: nowrap;
            font-weight: 600;
        }
        .tab.active {
            background: linear-gradient(135deg, #22d3ee 0%, #06b6d4 100%);
            color: #0f172a;
        }
        .progress-bar {
            background: #334155;
            border-radius: 12px;
            padding: 16px;
            margin-bottom: 20px;
        }
        .progress-text {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            font-size: 14px;
        }
        .progress-fill-container {
            background: #1e293b;
            height: 12px;
            border-radius: 6px;
            overflow: hidden;
        }
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #22d3ee 0%, #06b6d4 100%);
            transition: width 0.3s;
        }
        .item-list { display: flex; flex-direction: column; gap: 12px; }
        .item-card {
            background: #334155;
            border-radius: 12px;
            overflow: hidden;
        }
        .item-card.completed {
            background: rgba(34, 211, 238, 0.1);
            border: 1px solid rgba(34, 211, 238, 0.3);
        }
        .item-header {
            display: flex;
            align-items: center;
            padding: 16px;
            cursor: pointer;
        }
        .checkbox {
            width: 28px;
            height: 28px;
            border-radius: 8px;
            background: #1e293b;
            border: 2px solid #475569;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 12px;
            flex-shrink: 0;
            font-size: 14px;
        }
        .checkbox.checked {
            background: #10b981;
            border-color: #10b981;
        }
        .checkbox.mastered {
            background: #f59e0b;
            border-color: #f59e0b;
        }
        .checkbox.subsumed {
            background: #8b5cf6;
            border-color: #8b5cf6;
        }
        .checkbox-label {
            font-size: 10px;
            color: #94a3b8;
            text-align: center;
            margin-top: 2px;
        }
        .item-name {
            flex: 1;
            font-weight: 600;
            color: #22d3ee;
            font-size: 16px;
        }
        .expand-icon {
            color: #94a3b8;
            transition: transform 0.3s;
            margin-left: 8px;
            font-size: 20px;
        }
        .expand-icon.expanded { transform: rotate(180deg); }
        .item-details {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
        }
        .item-details.expanded { max-height: 2000px; }
        .component-list { padding: 0 16px 16px 16px; }
        .component-item {
            background: #1e293b;
            padding: 12px;
            border-radius: 8px;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
        }
        .component-checkbox {
            width: 24px;
            height: 24px;
            border-radius: 6px;
            background: #0f172a;
            border: 2px solid #475569;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 12px;
            flex-shrink: 0;
            cursor: pointer;
        }
        .component-checkbox.checked {
            background: #10b981;
            border-color: #10b981;
        }
        .component-info { flex: 1; }
        .component-name { font-weight: 600; color: #e2e8f0; margin-bottom: 4px; }
        .component-materials { font-size: 12px; color: #94a3b8; }
        .simple-item {
            display: flex;
            flex-direction: column;
            padding: 16px;
            background: #334155;
            border-radius: 12px;
        }
        .simple-item-header {
            display: flex;
            align-items: center;
            margin-bottom: 8px;
        }
        .simple-item.completed {
            background: rgba(34, 211, 238, 0.1);
            border: 1px solid rgba(34, 211, 238, 0.3);
        }
        .simple-requirements {
            margin-left: 40px;
            font-size: 13px;
            color: #94a3b8;
            margin-bottom: 4px;
        }
        .simple-source {
            margin-left: 40px;
            font-size: 12px;
            color: #06b6d4;
            font-style: italic;
        }
        .resource-card {
            background: #334155;
            border-radius: 12px;
            padding: 16px;
            margin-bottom: 12px;
        }
        .resource-name {
            font-weight: 600;
            color: #22d3ee;
            font-size: 16px;
            margin-bottom: 8px;
        }
        .resource-type {
            font-size: 13px;
            color: #94a3b8;
            margin-bottom: 6px;
        }
        .resource-location {
            font-size: 13px;
            color: #10b981;
        }
        .no-results { text-align: center; padding: 40px; color: #64748b; }
    </style>
</head>
<body>
    <div class="header">
        <h1>ðŸŽ® Warframe Arsenal Tracker</h1>
        <p class="subtitle">Track every frame, weapon, and companion</p>
    </div>

<div class="controls">
    <input type="text" class="search-box" id="searchBox" placeholder="Search items...">
    <button class="btn" onclick="exportToExcel()">ðŸ“¥ Export Excel</button>
    <button class="btn btn-secondary" onclick="exportToCSV()">ðŸ“„ Export CSV</button>
    <button class="btn btn-secondary" onclick="document.getElementById('importFile').click()">ðŸ“¤ Import</button>
    <input type="file" id="importFile" accept=".csv,.xlsx" style="display: none;" onchange="importData(event)">
</div>

<div class="tabs" id="tabs"></div>

<div class="progress-bar" id="progressBar">
    <div class="progress-text">
        <span>Progress</span>
        <span id="progressText">0 / 0</span>
    </div>
    <div class="progress-fill-container">
        <div class="progress-fill" id="progressFill"></div>
    </div>
</div>

<div class="item-list" id="itemList"></div>

<script>
    let currentTab = 'warframes';
    let searchTerm = '';
    let state = {};
    
    const categories = {
        warframes: 'Warframes',
        primeframes: 'Prime Frames',
        primary: 'Primary',
        primeprimary: 'Prime Primary',
        secondary: 'Secondary',
        primesecondary: 'Prime Secondary',
        melee: 'Melee',
        primemelee: 'Prime Melee',
        archwing: 'Archwing',
        archgun: 'Arch-Guns',
        primearch: 'Prime Archwing',
        archmelee: 'Arch-Melee',
        companions: 'Companions',
        primesentinels: 'Prime Sentinels',
        resources: 'Resources',
        relics: 'Relic Farming'
    };

    const data = {
    warframes: [
/* (unchanged, same as existing file) */
],
        primeframes: [
/* (unchanged) */
],
        primeprimary: [
{ name: 'Acceltra Prime', requirements: 'Relics: Lith G6, Meso A6, Neo A6, Axi A16', source: 'Void Relics' },
{ name: 'Astilla Prime', requirements: 'Relics: Lith A7, Meso A5, Neo A7, Axi A15', source: 'Void Relics' },
{ name: 'Baza Prime', requirements: 'Relics: Lith B7, Meso B4, Neo B7, Axi B7', source: 'Void Relics' },
{ name: 'Boar Prime', requirements: 'Barrel, Receiver, Stock - Relics: Lith B8, Meso B5, Neo B9', source: 'Void Relics' },
{ name: 'Boltor Prime', requirements: 'Barrel, Receiver, Stock - Relics: Lith B5, Meso B3, Neo B3, Axi B5', source: 'Void Relics' },
{ name: 'Braton Prime', requirements: 'Barrel, Receiver, Stock - Relics: Lith B3, Meso B4, Neo B3', source: 'Void Relics' },
{ name: 'Burston Prime', requirements: 'Barrel, Receiver, Stock - Relics: Lith B9, Meso B6, Neo B10', source: 'Void Relics' },
{ name: 'Cedo Prime', requirements: 'Relics: Lith C7, Meso C6, Neo C7, Axi C22', source: 'Void Relics' },
{ name: 'Cernos Prime', requirements: 'Upper Limb, Lower Limb, Grip, String - Relics: Lith C6, Meso C5, Neo C6', source: 'Void Relics' },
{ name: 'Corinth Prime', requirements: 'Barrel, Receiver, Stock - Relics: Lith C7, Meso C6, Axi C5', source: 'Void Relics' },
{ name: 'Daikyu Prime', requirements: 'Relics: Lith D4, Meso D3, Neo D3, Axi D6', source: 'Void Relics' },
{ name: 'Fulmin Prime', requirements: 'Barrel, Receiver, Stock - Relics: Lith F4, Meso F4, Axi F4', source: 'Void Relics' },
{ name: 'Gotva Prime', requirements: 'Relics: Lith G4, Meso G5, Neo G4, Axi G8', source: 'Void Relics' },
{ name: 'Latron Prime', requirements: 'Barrel, Receiver, Stock - Relics: Lith L5, Meso L3, Neo L5', source: 'Void Relics' },
{ name: 'Nagantaka Prime', requirements: 'Barrel, Receiver, Stock - Relics: Lith N12, Meso N12, Axi N9', source: 'Void Relics' },
{ name: 'Panthera Prime', requirements: 'Barrel, Blade, Stock - Relics: Lith P4, Meso P4, Axi P2', source: 'Void Relics' },
{ name: 'Paris Prime', requirements: 'Upper Limb, Lower Limb, Grip, String - Relics: Lith P1, Meso P1, Neo P1', source: 'Void Relics' },
{ name: 'Phantasma Prime', requirements: 'Relics: Lith P11, Meso P10, Neo P15, Axi P15', source: 'Void Relics' },
{ name: 'Rubico Prime', requirements: 'Barrel, Receiver, Stock - Relics: Lith R5, Meso R5, Axi R2', source: 'Void Relics' },
{ name: 'Scourge Prime', requirements: 'Relics: Lith S16, Meso S13, Neo S15, Axi S15', source: 'Void Relics' },
{ name: 'Soma Prime', requirements: 'Barrel, Receiver, Stock - Relics: Lith S1, Meso S1, Neo S1', source: 'Void Relics' },
{ name: 'Stradavar Prime', requirements: 'Barrel, Receiver, Stock - Relics: Lith S9, Meso S8, Axi S6', source: 'Void Relics' },
{ name: 'Strun Prime', requirements: 'Relics: Lith S15, Meso S12, Neo S13, Axi S13', source: 'Void Relics' },
{ name: 'Sybaris Prime', requirements: 'Relics: Lith S13, Meso S10, Neo S12, Axi S12', source: 'Void Relics' },
{ name: 'Tenora Prime', requirements: 'Barrel, Receiver, Stock - Relics: Lith T8, Meso T7, Axi T3', source: 'Void Relics' },
{ name: 'Tiberon Prime', requirements: 'Relics: Lith T8, Meso T7, Neo T8, Axi T8', source: 'Void Relics' },
{ name: 'Tigris Prime', requirements: 'Barrel, Receiver, Stock - Relics: Lith T7, Meso T6, Axi T2', source: 'Void Relics' },
{ name: 'Trumna Prime', requirements: 'Relics: Lith T11, Meso T12, Neo T20, Axi T19', source: 'Void Relics' },
{ name: 'Vectis Prime', requirements: 'Barrel, Receiver, Stock - Relics: Lith V3, Meso V2, Neo V3', source: 'Void Relics' },
{ name: 'Zhuge Prime', requirements: 'Barrel, Receiver, String - Relics: Lith Z3, Meso Z4, Neo Z4', source: 'Void Relics' },
{ name: 'Alternox Prime', requirements: 'Relics: TBD', source: 'Void Relics' },
{ name: 'Vadarya Prime', requirements: 'Relics: TBD', source: 'Void Relics' }
],
        primesecondary: [
/* (unchanged) */
],
        primemelee: [
/* (unchanged) */
],
        primearch: [
/* (unchanged) */
],
        primesentinels: [
/* (unchanged) */
],
        primary: [
/* (unchanged) */
],
        /* rest of data unchanged */
    };

    /* rest of script (rendering, export/import functions, etc.) unchanged */
</script>
</body>
</html>
